<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Movie Search</title>
    <style>
      body {
        background: #1a1a1a;
        color: white;
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
        animation: gradientShift 20s ease infinite;
        overflow-x: hidden;
        min-height: 100vh;
        position: relative;
      }
      body::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.05) 0%, transparent 70%);
        pointer-events: none;
        z-index: 0;
      }
      body::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="none"/><circle cx="50" cy="50" r="1" fill="rgba(255,255,255,0.05)"/></svg>');
        opacity: 0.5;
        pointer-events: none;
        z-index: 0;
      }
      @keyframes gradientShift {
        0% { background-position: 0% 50%; background-size: 200% 200%; }
        50% { background-position: 100% 50%; background-size: 200% 200%; }
        100% { background-position: 0% 50%; background-size: 200% 200%; }
      }
      @keyframes floatAnimation {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
      }
      @keyframes pulseGlow {
        0%, 100% { box-shadow: 0 0 15px rgba(255, 138, 0, 0.4); }
        50% { box-shadow: 0 0 30px rgba(255, 138, 0, 0.7); }
      }
      .search-container {
        width: 100%;
        max-width: 800px;
        margin: 20px auto;
        text-align: center;
        position: relative;
        z-index: 10;
        animation: fadeIn 1s ease-out;
      }
      h1 {
        color: #fff;
        text-align: center;
        margin-bottom: 30px;
        font-size: 3rem;
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 2px;
        text-shadow: 0 0 10px rgba(255, 255, 255, 0.6);
        animation: titlePulse 2s ease-in-out infinite;
        position: relative;
        display: inline-block;
        background: linear-gradient(to right, #ff8a00, #da1b60);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        filter: drop-shadow(0 0 15px rgba(255, 138, 0, 0.5));
      }
      h1::after {
        content: '';
        position: absolute;
        bottom: -5px;
        left: 50%;
        width: 0;
        height: 3px;
        background: linear-gradient(90deg, transparent, #ff8a00, #da1b60, transparent);
        transform: translateX(-50%);
        animation: lineGrow 2s ease-in-out infinite;
      }
      @keyframes lineGrow {
        0%, 100% { width: 0; }
        50% { width: 100%; }
      }
      @keyframes titlePulse {
        0%, 100% { text-shadow: 0 0 10px rgba(255, 255, 255, 0.6); }
        50% { text-shadow: 0 0 25px rgba(255, 255, 255, 0.9); }
      }
      #searchInput {
        width: 70%;
        padding: 12px 20px;
        font-size: 16px;
        border: none;
        border-radius: 4px;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        color: white;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
        position: relative;
        z-index: 2;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      #searchInput::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(229, 9, 20, 0.1), transparent);
        z-index: -1;
      }
      #searchInput:focus {
        background: rgba(255, 255, 255, 0.15);
        box-shadow: 0 0 25px rgba(229, 9, 20, 0.4);
        transform: scale(1.02);
        outline: none;
        animation: inputFocus 1.5s ease-in-out infinite;
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
      @keyframes inputFocus {
        0%, 100% { box-shadow: 0 0 25px rgba(229, 9, 20, 0.4); }
        50% { box-shadow: 0 0 35px rgba(229, 9, 20, 0.6); }
      }
      #searchBtn {
        padding: 12px 20px;
        background: linear-gradient(45deg, #ff8a00, #da1b60);
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        margin-left: 10px;
        font-weight: bold;
        text-transform: uppercase;
        letter-spacing: 1px;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        box-shadow: 0 0 15px rgba(255, 138, 0, 0.4);
        animation: pulseGlow 2s ease-in-out infinite;
      }
      #searchBtn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: all 0.5s ease;
      }
      #searchBtn:hover::before {
        left: 100%;
      }
      #searchBtn:hover {
        background: linear-gradient(45deg, #ff9d1d, #e62a6f);
        transform: translateY(-3px);
        box-shadow: 0 7px 20px rgba(255, 138, 0, 0.5);
        animation: none;
      }
      .movie-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
        margin-top: 30px;
        width: 100%;
        max-width: 1200px;
        perspective: 1000px;
        padding: 20px;
        position: relative;
        z-index: 5;
      }
      .movie-container::before {
        content: '';
        position: absolute;
        top: -20px;
        left: 50%;
        transform: translateX(-50%);
        width: 80%;
        height: 1px;
        background: linear-gradient(90deg, transparent, rgba(229, 9, 20, 0.5), transparent);
      }
      .movie-card {
        width: 220px;
        background: rgba(30, 30, 30, 0.7);
        backdrop-filter: blur(10px);
        border-radius: 6px;
        overflow: hidden;
        transition: transform 0.3s;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        cursor: pointer;
        transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        position: relative;
        animation: cardFadeIn 0.6s forwards;
        opacity: 0;
        transform: translateY(30px) scale(0.9);
        z-index: 1;
        border: 1px solid rgba(255, 255, 255, 0.05);
      }
      @keyframes cardFadeIn {
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }
      .movie-card:hover {
        transform: translateY(-10px) scale(1.05);
        box-shadow: 0 20px 30px rgba(0, 0, 0, 0.5);
        z-index: 5;
        animation: floatAnimation 3s ease-in-out infinite;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .movie-card::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to bottom, rgba(0,0,0,0) 70%, rgba(0,0,0,0.8) 100%);
        pointer-events: none;
      }
      .movie-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(45deg, rgba(255, 138, 0, 0.1), rgba(218, 27, 96, 0.1));
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: 1;
      }
      .movie-card:hover::before {
        opacity: 1;
      }
      .movie-poster {
        width: 100%;
        height: 330px;
        object-fit: cover;
        position: relative;
        z-index: 2;
      }
      .movie-info {
        padding: 15px;
        position: relative;
        z-index: 2;
        background: linear-gradient(to top, rgba(0,0,0,0.9), rgba(0,0,0,0.7));
        transform: translateY(0);
        transition: transform 0.3s ease;
        margin-top: -5px;
      }
      .movie-card:hover .movie-info {
        transform: translateY(-5px);
      }
      .movie-title {
        font-weight: bold;
        font-size: 16px;
        margin-bottom: 5px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        position: relative;
        display: inline-block;
      }
      .movie-title::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 0;
        height: 2px;
        background: linear-gradient(to right, #ff8a00, #da1b60);
        transition: width 0.3s ease;
      }
      .movie-card:hover .movie-title::after {
        width: 100%;
      }
      .movie-year {
        color: #ff8a00;
        font-size: 14px;
        transition: color 0.3s ease;
      }
      .movie-card:hover .movie-year {
        color: #ff8a00;
      }
      .no-results, .loading {
        text-align: center;
        margin-top: 30px;
        color: #aaa;
        font-size: 18px;
        animation: fadeInUp 0.6s forwards;
        position: relative;
        padding: 20px;
        background: rgba(0,0,0,0.3);
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      }
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .error {
        color: #ff8a00;
        text-align: center;
        margin-top: 20px;
        animation: fadeInUp 0.6s forwards;
        text-shadow: 0 0 10px rgba(255, 138, 0, 0.4);
        position: relative;
        padding: 20px;
        background: rgba(255, 138, 0, 0.1);
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(255, 138, 0, 0.2);
        border-left: 4px solid #ff8a00;
      }
      .no-poster {
        background: #333;
        height: 330px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #aaa;
        background: linear-gradient(45deg, #222, #333);
        position: relative;
        overflow: hidden;
      }
      .no-poster::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 200%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
        animation: shimmer 2s infinite;
      }
      @keyframes shimmer {
        to { left: 100%; }
      }
      
      /* Details Container Styles */
      #detailsContainer {
        display: none; /* Hidden by default */
        width: 100%;
        max-width: 1000px;
        background-color: rgba(30, 30, 30, 0.7);
        backdrop-filter: blur(10px);
        padding: 30px;
        margin-top: 30px;
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        animation: detailsOpen 0.7s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
        background: linear-gradient(to bottom, rgba(40, 40, 40, 0.8), rgba(30, 30, 30, 0.8));
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.7);
        position: relative;
        overflow: hidden;
        z-index: 20;
        border: 1px solid rgba(255, 255, 255, 0.05);
      }
      @keyframes detailsOpen {
        from {
          opacity: 0;
          transform: translateY(50px) scale(0.95);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }
      #detailsContainer::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 5px;
        background: linear-gradient(90deg, #ff8a00, #da1b60);
        z-index: 2;
        box-shadow: 0 0 20px rgba(255, 138, 0, 0.7);
      }
      #detailsContainer::after {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        width: 150px;
        height: 150px;
        background: radial-gradient(circle, rgba(255, 138, 0, 0.1) 0%, transparent 70%);
        z-index: 0;
      }
      .details-header {
        border-bottom: 1px solid #333;
        padding-bottom: 15px;
        margin-bottom: 20px;
        position: relative;
        z-index: 1;
      }
      .details-title {
        font-size: 28px;
        margin: 0;
        font-weight: 800;
        letter-spacing: 1px;
        color: #fff;
        text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        position: relative;
        display: inline-block;
      }
      .details-title::after {
        content: '';
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 0;
        height: 3px;
        background: linear-gradient(to right, #ff8a00, #da1b60);
        animation: titleLineGrow 1s 0.5s forwards;
      }
      @keyframes titleLineGrow {
        to { width: 100%; }
      }
      .details-subtitle {
        color: #aaa;
        margin-top: 8px;
        font-size: 16px;
        display: inline-block;
        background: rgba(255, 138, 0, 0.2);
        padding: 4px 10px;
        border-radius: 4px;
        margin-top: 12px;
        animation: fadeIn 0.5s 0.3s forwards;
        opacity: 0;
      }
      .details-content {
        display: flex;
        flex-direction: row;
        margin-bottom: 30px;
        gap: 30px;
        position: relative;
        z-index: 1;
      }
      @media (max-width: 768px) {
        .details-content {
          flex-direction: column;
        }
      }
      .details-poster {
        width: 250px; /* Slightly larger poster */
        border-radius: 6px;
        margin-right: 30px;
        margin-bottom: 20px; /* Add margin for column layout */
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
        position: relative;
        z-index: 2;
        overflow: hidden;
      }
      .details-poster::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(45deg, rgba(229, 9, 20, 0.1), transparent);
        opacity: 0;
        transition: opacity 0.3s ease;
        border-radius: 6px;
        z-index: 1;
      }
      .details-info {
        flex: 1;
        position: relative;
        animation: fadeIn 0.5s 0.3s both;
        background: rgba(0, 0, 0, 0.3);
        padding: 20px;
        border-radius: 8px;
        box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.05);
      }
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      .info-item {
        margin-bottom: 12px;
        animation: slideInRight 0.5s both;
        animation-delay: calc(0.1s * var(--i, 1));
        transform: translateX(20px);
        opacity: 0;
        position: relative;
        padding: 8px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      }
      @keyframes slideInRight {
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
      .info-label {
        font-weight: bold;
        color: #ff8a00;
        margin-bottom: 4px;
        display: inline-block;
        position: relative;
        font-size: 16px;
        letter-spacing: 1px;
      }
      .info-label::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 30px;
        height: 2px;
        background: linear-gradient(to right, #ff8a00, #da1b60);
        transition: width 0.3s ease;
      }
      .info-item:hover .info-label::after {
        width: 100%;
      }
      .trailer-container {
        width: 100%;
        margin-top: 20px;
        position: relative;
        overflow: hidden;
        border-radius: 8px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
        transform: scale(0.98);
        transition: transform 0.5s ease;
        z-index: 1;
      }
      .trailer-container:hover {
        transform: scale(1);
      }
      .trailer-container::before {
        content: '';
        position: absolute;
        top: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 80%;
        height: 1px;
        background: linear-gradient(90deg, transparent, rgba(255, 138, 0, 0.5), transparent);
      }
      .trailer-frame {
        width: 100%;
        aspect-ratio: 16/9;
        border: none;
        border-radius: 6px;
        background: #000;
        box-shadow: 0 0 30px rgba(0, 0, 0, 0.8);
        transition: all 0.3s ease;
      }
      .trailer-frame:hover {
        box-shadow: 0 0 40px rgba(255, 138, 0, 0.3);
      }
      .trailer-loading {
        width: 100%;
        aspect-ratio: 16/9;
        background: #333;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #aaa;
        font-size: 18px;
        border-radius: 6px;
        position: relative;
        overflow: hidden;
        background: linear-gradient(45deg, #222, #333);
      }
      .trailer-loading::after {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 50%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        animation: loading 2s infinite;
      }
      @keyframes loading {
        to { left: 100%; }
      }
      .trailer-error {
        width: 100%;
        aspect-ratio: 16/9;
        background: #333;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: #aaa;
        font-size: 16px;
        border-radius: 6px;
        text-align: center;
        padding: 20px;
        background: linear-gradient(45deg, #262626, #1a1a1a);
        position: relative;
        overflow: hidden;
      }
      .trailer-error::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at center, rgba(255, 138, 0, 0.1) 0%, transparent 70%);
        z-index: 0;
      }
      .trailer-error a {
        color: #ff8a00;
        text-decoration: none;
        margin-top: 10px;
        padding: 8px 20px;
        border: 2px solid #ff8a00;
        border-radius: 4px;
        transition: all 0.3s ease;
        font-weight: bold;
        letter-spacing: 1px;
        position: relative;
        z-index: 1;
        overflow: hidden;
      }
      .trailer-error a::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: all 0.5s ease;
      }
      .trailer-error a:hover::before {
        left: 100%;
      }
      .trailer-error a:hover {
        background: linear-gradient(45deg, #ff8a00, #da1b60);
        color: white;
        text-decoration: none;
        box-shadow: 0 0 15px rgba(255, 138, 0, 0.5);
        transform: translateY(-3px);
      }
      #backButton {
        display: block;
        width: fit-content;
        margin: 30px auto 0;
        padding: 10px 25px;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        text-transform: uppercase;
        font-weight: bold;
        letter-spacing: 1px;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        z-index: 5;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      #backButton:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
      #backButton::after {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: -100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: all 0.5s ease;
      }
      #backButton:hover::after {
        left: 100%;
      }
      #backButton::before {
        content: '←';
        position: absolute;
        left: 10px;
        opacity: 0;
        transition: all 0.3s ease;
      }
      #backButton:hover::before {
        opacity: 1;
        left: 15px;
      }
      .cast-container, .director-container {
        margin-top: 25px;
        border-top: 1px solid #333;
        padding-top: 20px;
        position: relative;
        z-index: 1;
      }
      .cast-container::before, .director-container::before {
        content: '';
        position: absolute;
        top: -1px;
        left: 50%;
        transform: translateX(-50%);
        width: 80%;
        height: 1px;
        background: linear-gradient(90deg, transparent, rgba(255, 138, 0, 0.5), transparent);
      }
      .section-title {
        font-size: 20px;
        color: #ff8a00;
        margin-bottom: 15px;
        position: relative;
        display: inline-block;
        padding-bottom: 5px;
      }
      .section-title::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 0;
        height: 2px;
        background: linear-gradient(to right, #ff8a00, #da1b60);
        animation: sectionTitleLine 1s 0.5s forwards;
      }
      @keyframes sectionTitleLine {
        to { width: 100%; }
      }
      .cast-list, .director-list {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        position: relative;
        z-index: 1;
      }
      .cast-item, .director-item {
        width: 160px;
        background: rgba(50, 50, 50, 0.5);
        border-radius: 8px;
        overflow: hidden;
        transition: transform 0.2s;
        transform: scale(1);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        opacity: 0;
        animation: castFadeIn 0.5s forwards;
        animation-delay: calc(0.1s * var(--i, 1));
        position: relative;
        z-index: 1;
      }
      @keyframes castFadeIn {
        to {
          opacity: 1;
        }
      }
      .cast-item:hover, .director-item:hover {
        transform: translateY(-5px);
        transform: translateY(-8px) scale(1.05);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
        z-index: 2;
        animation: floatAnimation 3s ease-in-out infinite;
      }
      .cast-item::before, .director-item::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(45deg, rgba(255, 138, 0, 0.1), rgba(218, 27, 96, 0.1));
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: 0;
      }
      .cast-item:hover::before, .director-item:hover::before {
        opacity: 1;
      }
      .cast-photo, .director-photo {
        width: 100%;
        height: 180px;
        object-fit: cover;
        position: relative;
        z-index: 2;
      }
      .cast-info, .director-info {
        padding: 12px;
        position: relative;
        z-index: 1;
        background: linear-gradient(to top, rgba(0,0,0,0.9), rgba(0,0,0,0.7));
        margin-top: -5px;
      }
      .cast-name, .director-name {
        font-weight: bold;
        margin-bottom: 5px;
        position: relative;
        display: inline-block;
      }
      .cast-name::after, .director-name::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 0;
        height: 2px;
        background: linear-gradient(to right, #ff8a00, #da1b60);
        transition: width 0.3s ease;
      }
      .cast-item:hover .cast-name::after, .director-item:hover .director-name::after {
        width: 100%;
      }
      .cast-character, .director-known-for {
        font-size: 13px;
        color: #aaa;
        margin-bottom: 8px;
        transition: color 0.3s ease;
      }
      .cast-item:hover .cast-character, .director-item:hover .director-known-for {
        color: #ff8a00;
      }
      .social-links {
        display: flex;
        gap: 8px;
        margin-top: 8px;
        opacity: 0;
        animation: fadeIn 0.6s 0.5s forwards;
        position: relative;
        z-index: 2;
      }
      .social-link {
        width: 25px;
        height: 25px;
        background: rgba(255,255,255,0.1);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        color: white;
        font-size: 14px;
        transition: background 0.2s;
        transform: scale(1);
        transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        position: relative;
        overflow: hidden;
      }
      .social-link:hover {
        background: linear-gradient(45deg, #ff8a00, #da1b60);
        transform: scale(1.2);
        box-shadow: 0 0 10px rgba(255, 138, 0, 0.6);
        animation: pulseGlow 1.5s ease-in-out infinite;
      }
      .social-link::before {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 50%;
        background: transparent;
        border: 2px solid rgba(255, 138, 0, 0.5);
        top: 0;
        left: 0;
        opacity: 0;
        transform: scale(1.8);
        transition: all 0.4s ease;
      }
      .social-link:hover::before {
        transform: scale(1.2);
        opacity: 1;
      }
      .social-link::after {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: all 0.5s ease;
      }
      .social-link:hover::after {
        left: 100%;
      }
      /* Simple icons for social media */
      .icon-twitter:before { content: "𝕏"; }
      .icon-instagram:before { content: "📷"; }
      .icon-facebook:before { content: "f"; }

      /* New CSS for the YouTube link button */
      .trailer-message {
        width: 100%;
        aspect-ratio: 16/9;
        background: #222;
        border-radius: 8px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px;
        text-align: center;
        position: relative;
        overflow: hidden;
      }
      .trailer-message::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at center, rgba(255, 138, 0, 0.1) 0%, transparent 70%);
        z-index: 0;
      }
      .trailer-info {
        margin-bottom: 20px;
        position: relative;
        z-index: 1;
      }
      .trailer-info p {
        margin: 5px 0;
        color: #aaa;
        transition: color 0.3s ease;
      }
      .trailer-message:hover .trailer-info p {
        color: #ff8a00;
      }
      .youtube-link {
        text-decoration: none;
        position: relative;
        z-index: 1;
      }
      .youtube-button {
        background: linear-gradient(45deg, #ff8a00, #da1b60);
        color: white;
        padding: 12px 24px;
        border-radius: 4px;
        display: flex;
        align-items: center;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(255, 138, 0, 0.4);
      }
      .youtube-button:hover {
        background: linear-gradient(45deg, #ff9d1d, #e62a6f);
        transform: scale(1.05);
        box-shadow: 0 8px 20px rgba(255, 138, 0, 0.6);
        animation: pulseGlow 1.5s ease-in-out infinite;
      }
      .youtube-button::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: all 0.5s ease;
      }
      .youtube-button:hover::before {
        left: 100%;
      }
      .youtube-icon {
        margin-right: 10px;
        font-size: 20px;
        transition: transform 0.3s ease;
      }
      .youtube-button:hover .youtube-icon {
        transform: scale(1.2);
      }
      .youtube-text {
        font-weight: bold;
        font-size: 16px;
        transition: letter-spacing 0.3s ease;
      }
      .youtube-button:hover .youtube-text {
        letter-spacing: 1px;
      }
      .ratings-container {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        margin-top: 15px;
        position: relative;
        z-index: 1;
      }
      .rating-item {
        padding: 8px 12px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 4px;
        font-size: 14px;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }
      .rating-item:hover {
        background: rgba(255, 138, 0, 0.2);
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        animation: floatAnimation 3s ease-in-out infinite;
      }
      .rating-item::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(45deg, rgba(255, 138, 0, 0.1), rgba(218, 27, 96, 0.1));
        opacity: 0;
        transition: opacity 0.3s ease;
      }
      .rating-item:hover::before {
        opacity: 1;
      }
      .rating-source {
        font-weight: bold;
        color: #ff8a00;
        position: relative;
        display: inline-block;
      }
      .rating-source::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 0;
        height: 2px;
        background: linear-gradient(to right, #ff8a00, #da1b60);
        transition: width 0.3s ease;
      }
      .rating-item:hover .rating-source::after {
        width: 100%;
      }
    </style>
  </head>
  <body>
    <h1>Movie Search</h1>
    
    <div class="search-container">
      <input type="text" id="searchInput" placeholder="Search for movies..." />
      <button id="searchBtn">Search</button>
    </div>
    
    <div id="loading" class="loading" style="display: none;">Searching for movies...</div>
    <div id="error" class="error" style="display: none;"></div>
    <div id="noResults" class="no-results" style="display: none;">No movies found. Try another search.</div>
    
    <div id="movieContainer" class="movie-container"></div>
    
    <!-- Container for detailed movie info -->
    <div id="detailsContainer">
      <div class="details-header">
        <h2 class="details-title" id="detailsTitle"></h2>
        <div class="details-subtitle" id="detailsSubtitle"></div>
      </div>
      <div class="details-content">
        <img id="detailsPoster" class="details-poster" src="" alt="Movie Poster">
        <div class="details-info">
          <div class="info-item">
            <div class="info-label">Plot</div>
            <div id="detailsPlot"></div>
          </div>
          <div class="info-item">
            <div class="info-label">Released</div>
            <div id="detailsReleased"></div>
          </div>
          <div class="info-item">
            <div class="info-label">Director</div>
            <div id="detailsDirector"></div>
          </div>
          <div class="info-item">
            <div class="info-label">Cast</div>
            <div id="detailsCast"></div>
          </div>
          <div class="info-item">
            <div class="info-label">Writer(s)</div>
            <div id="detailsWriter"></div>
          </div>
          <div class="info-item">
            <div class="info-label">Genre</div>
            <div id="detailsGenre"></div>
          </div>
          <div class="info-item">
            <div class="info-label">Language(s)</div>
            <div id="detailsLanguage"></div>
          </div>
          <div class="info-item">
            <div class="info-label">Country</div>
            <div id="detailsCountry"></div>
          </div>
          <div class="info-item">
            <div class="info-label">Awards</div>
            <div id="detailsAwards"></div>
          </div>
          <div class="info-item">
            <div class="info-label">Ratings</div>
            <div id="detailsRatings" class="ratings-container"></div>
          </div>
        </div>
      </div>
      <div class="trailer-container">
        <div class="info-label">Trailer</div>
        <div id="trailerContainer">
          <div id="trailerLoading" class="trailer-loading">Loading trailer...</div>
        </div>
      </div>
      
      <!-- Detailed Cast Section -->
      <div class="cast-container">
        <h3 class="section-title">Cast Details</h3>
        <div id="castDetailsList" class="cast-list">
          <!-- Cast details will be added here by JavaScript -->
        </div>
      </div>
      
      <!-- Detailed Director Section -->
      <div class="director-container">
        <h3 class="section-title">Director Details</h3>
        <div id="directorDetailsList" class="director-list">
          <!-- Director details will be added here by JavaScript -->
        </div>
      </div>
    </div>
    <button id="backButton">Back to Search Results</button>
    
    <script>
      const searchInput = document.getElementById("searchInput");
      const searchBtn = document.getElementById("searchBtn");
      const movieContainer = document.getElementById("movieContainer");
      const loading = document.getElementById("loading");
      const error = document.getElementById("error");
      const noResults = document.getElementById("noResults");
      
      // Details container elements
      const detailsContainer = document.getElementById("detailsContainer");
      const detailsTitle = document.getElementById("detailsTitle");
      const detailsSubtitle = document.getElementById("detailsSubtitle");
      const detailsPoster = document.getElementById("detailsPoster");
      const detailsPlot = document.getElementById("detailsPlot");
      const detailsDirector = document.getElementById("detailsDirector");
      const detailsCast = document.getElementById("detailsCast");
      const detailsGenre = document.getElementById("detailsGenre");
      const detailsReleased = document.getElementById("detailsReleased");
      const detailsWriter = document.getElementById("detailsWriter");
      const detailsLanguage = document.getElementById("detailsLanguage");
      const detailsCountry = document.getElementById("detailsCountry");
      const detailsAwards = document.getElementById("detailsAwards");
      const detailsRatings = document.getElementById("detailsRatings");
      const trailerContainer = document.getElementById("trailerContainer");
      const castDetailsList = document.getElementById("castDetailsList");
      const directorDetailsList = document.getElementById("directorDetailsList");
      const backButton = document.getElementById("backButton");
      
      const apiKey = "d338c4f6";
      
      // Simulated dynamic API to fetch social media profiles
      // In a real application, this would be an actual API endpoint
      async function fetchSocialMediaProfiles(name, role) {
        try {
          // Simulate network latency
          await new Promise(resolve => setTimeout(resolve, 200));
          
          // Simulate API response
          // This would normally be a fetch() call to a real API endpoint
          return new Promise((resolve) => {
            // Create a deterministic but "random-looking" response based on the name
            // This simulates different responses for different people
            
            // Generate a hash-like value from the name for deterministic results
            let nameValue = 0;
            for (let i = 0; i < name.length; i++) {
              nameValue += name.charCodeAt(i);
            }
            
            // Calculate a verification status based on name value
            // This simulates some celebrities being verified, others not
            const isVerified = (nameValue % 3 === 0);
            
            // Generate different username patterns based on name characteristics
            let twitterHandle, instagramHandle, facebookHandle;
            
            if (name.includes(' ')) {
              // For names with spaces, create different patterns
              const nameParts = name.split(' ');
              const firstName = nameParts[0].toLowerCase();
              const lastName = nameParts[nameParts.length - 1].toLowerCase();
              
              if (nameValue % 4 === 0) {
                // Pattern: firstlast (e.g., tomhanks)
                twitterHandle = firstName + lastName;
                instagramHandle = firstName + lastName;
                facebookHandle = firstName + lastName;
              } else if (nameValue % 4 === 1) {
                // Pattern: first.last (e.g., tom.hanks)
                twitterHandle = firstName + lastName;
                instagramHandle = firstName + '.' + lastName;
                facebookHandle = firstName + lastName;
              } else if (nameValue % 4 === 2) {
                // Pattern: TheRealFirstLast (e.g., TheRealTomHanks)
                twitterHandle = 'TheReal' + firstName.charAt(0).toUpperCase() + firstName.slice(1) + 
                                lastName.charAt(0).toUpperCase() + lastName.slice(1);
                instagramHandle = 'official' + firstName + lastName;
                facebookHandle = firstName.charAt(0).toUpperCase() + firstName.slice(1) + 
                                 lastName.charAt(0).toUpperCase() + lastName.slice(1);
              } else {
                // Pattern: last_first (e.g., hanks_tom)
                twitterHandle = lastName + '_' + firstName;
                instagramHandle = lastName + firstName;
                facebookHandle = firstName + '.' + lastName;
              }
            } else {
              // For single names, use the name with different prefixes/suffixes
              const lowercaseName = name.toLowerCase();
              twitterHandle = lowercaseName + (nameValue % 3 === 0 ? 'official' : '');
              instagramHandle = (nameValue % 2 === 0 ? 'the' : '') + lowercaseName;
              facebookHandle = lowercaseName + (nameValue % 5 === 0 ? 'page' : '');
            }
            
            // Add role-specific prefixes to some handles
            if (role === 'director' && nameValue % 3 === 0) {
              twitterHandle = 'director' + twitterHandle;
            }
            
            // "API response" with social media data
            resolve({
              name: name,
              role: role,
              verified: isVerified,
              social: {
                twitter: twitterHandle,
                instagram: instagramHandle,
                facebook: facebookHandle
              },
              followers: {
                twitter: Math.floor(10000 + (nameValue * 100) % 1000000),
                instagram: Math.floor(50000 + (nameValue * 500) % 5000000),
                facebook: Math.floor(20000 + (nameValue * 300) % 2000000)
              }
            });
          });
        } catch (error) {
          console.error("Error fetching social media profiles:", error);
          // Return a default profile with error handling
          return {
            name: name,
            role: role,
            verified: false,
            social: {
              twitter: "unavailable",
              instagram: "unavailable",
              facebook: "unavailable"
            },
            followers: {
              twitter: 0,
              instagram: 0,
              facebook: 0
            },
            error: true
          };
        }
      }
      
      // Function to search movies
      function searchMovies() {
        const query = searchInput.value.trim();
        
        if (query === "") {
          return;
        }
        
        // Clear previous results
        movieContainer.innerHTML = "";
        error.style.display = "none";
        noResults.style.display = "none";
        loading.style.display = "block";
        
        // Hide details container if visible
        detailsContainer.style.display = "none";
        movieContainer.style.display = "flex"; // Ensure movie container is visible
        
        // Fetch data from API
        fetch(`https://www.omdbapi.com/?s=${query}&apikey=${apiKey}`)
          .then(response => {
            if (!response.ok) {
              throw new Error("Network response was not ok");
            }
            return response.json();
          })
          .then(data => {
            loading.style.display = "none";
            
            if (data.Response === "False") {
              noResults.style.display = "block";
              return;
            }
            
            displayMovies(data.Search);
          })
          .catch(err => {
            loading.style.display = "none";
            error.textContent = `Error: ${err.message}`;
            error.style.display = "block";
          });
      }
      
      // Function to display movies
      function displayMovies(movies) {
        movies.forEach((movie, index) => {
          const movieCard = document.createElement("div");
          movieCard.className = "movie-card";
          movieCard.style.animationDelay = `${index * 0.08}s`;
          
          // Create poster or placeholder if no poster
          let posterElement;
          if (movie.Poster && movie.Poster !== "N/A") {
            posterElement = document.createElement("img");
            posterElement.className = "movie-poster";
            posterElement.src = movie.Poster;
            posterElement.alt = `${movie.Title} poster`;
            posterElement.onerror = function() {
              this.parentNode.replaceChild(createNoPosterElement(), this);
            };
          } else {
            posterElement = createNoPosterElement();
          }
          
          // Create movie info section
          const infoDiv = document.createElement("div");
          infoDiv.className = "movie-info";
          
          const titleElement = document.createElement("div");
          titleElement.className = "movie-title";
          titleElement.textContent = movie.Title;
          
          const yearElement = document.createElement("div");
          yearElement.className = "movie-year";
          yearElement.textContent = `${movie.Year} • ${movie.Type.charAt(0).toUpperCase() + movie.Type.slice(1)}`;
          
          // Add elements to card
          infoDiv.appendChild(titleElement);
          infoDiv.appendChild(yearElement);
          
          movieCard.appendChild(posterElement);
          movieCard.appendChild(infoDiv);
          
          // Add movie details on click
          movieCard.addEventListener("click", () => {
            getMovieDetails(movie.imdbID);
          });
          
          movieContainer.appendChild(movieCard);
        });
      }
      
      // Function to create placeholder for missing poster
      function createNoPosterElement() {
        const noPoster = document.createElement("div");
        noPoster.className = "no-poster";
        noPoster.textContent = "No Poster Available";
        return noPoster;
      }
      
      // Function to get detailed movie information
      function getMovieDetails(imdbID) {
        // Hide search results and show loading message for details
        movieContainer.style.display = "none";
        loading.textContent = "Loading movie details..."; // Change loading text
        loading.style.display = "block";
        detailsContainer.style.display = "none"; // Hide details while loading
        
        // Clear previous trailer and show loading
        trailerContainer.innerHTML = '<div id="trailerLoading" class="trailer-loading">Loading trailer...</div>';
        
        // Reset modal content
        detailsRatings.innerHTML = '';
        
        // Fetch detailed movie data
        fetch(`https://www.omdbapi.com/?i=${imdbID}&plot=full&apikey=${apiKey}`)
          .then(response => response.json())
          .then(data => {
            // Hide loading message and show details container
            loading.style.display = "none";
            detailsContainer.style.display = "block";
            
            // Update details container with movie info
            detailsTitle.textContent = data.Title;
            detailsSubtitle.textContent = `${data.Year} • ${data.Runtime} • ${data.Rated}`;
            detailsPlot.textContent = data.Plot;
            detailsDirector.textContent = data.Director;
            detailsCast.textContent = data.Actors;
            detailsGenre.textContent = data.Genre;
            detailsReleased.textContent = data.Released || "N/A";
            detailsWriter.textContent = data.Writer || "N/A";
            detailsLanguage.textContent = data.Language || "N/A";
            detailsCountry.textContent = data.Country || "N/A";
            detailsAwards.textContent = data.Awards || "N/A";
            
            // Check if poster exists
            if (data.Poster && data.Poster !== "N/A") {
              detailsPoster.src = data.Poster;
              detailsPoster.style.display = "block";
            } else {
              detailsPoster.style.display = "none";
            }
            
            // Add ratings
            if (data.Ratings && data.Ratings.length > 0) {
              data.Ratings.forEach(rating => {
                const ratingElement = document.createElement("div");
                ratingElement.className = "rating-item";
                ratingElement.innerHTML = `<span class="rating-source">${rating.Source}:</span> ${rating.Value}`;
                detailsRatings.appendChild(ratingElement);
              });
            } else {
              const noRating = document.createElement("div");
              noRating.textContent = "No ratings available";
              detailsRatings.appendChild(noRating);
            }
            
            // Generate cast details with mock social media
            generateCastDetails(data.Actors);
            
            // Generate director details with mock social media
            generateDirectorDetails(data.Director);
            
            // Get trailer from YouTube
            getMovieTrailer(`${data.Title} ${data.Year} trailer`);
            
            // Add staggered animation delays to info items
            document.querySelectorAll('.info-item').forEach((item, index) => {
              item.style.setProperty('--i', index + 1);
            });
          })
          .catch(err => {
            // Show error and ensure results container is visible if details fail
            loading.style.display = "none";
            movieContainer.style.display = "flex";
            detailsContainer.style.display = "none";
            error.textContent = `Error getting movie details: ${err.message}`;
            error.style.display = "block";
          });
      }
      
      // Function to get YouTube trailer
      function getMovieTrailer(searchQuery) {
        try {
          // Show loading indicator
          trailerContainer.innerHTML = '<div id="trailerLoading" class="trailer-loading">Loading trailer...</div>';
          
          // Clean the movie title to use for matching
          const cleanTitle = searchQuery.toLowerCase()
            .replace(/\([^)]*\)/g, '') // Remove anything in parentheses
            .replace(/trailer/ig, '')  // Remove 'trailer' if present
            .trim();
          
          // Database of known movie trailers with their YouTube IDs
          // This approach is much more reliable than search-based embedding
          const trailerDatabase = {
            // Action/Adventure
            "avengers": "TcMBFSGVi1c",                  // Avengers: Endgame
            "endgame": "TcMBFSGVi1c",                   // Avengers: Endgame
            "avatar": "5PSNL1qE6VY",                    // Avatar: The Way of Water
            "batman": "mqqft2x_Aa4",                    // The Batman
            "star wars": "8Qn_spdM5Zg",                 // Star Wars: The Rise of Skywalker
            "jurassic": "fb5ELWi-ekk",                  // Jurassic World
            "fast": "eoOaKN4qCKw",                      // Fast & Furious
            "furious": "eoOaKN4qCKw",                   // Fast & Furious
            "spider": "JfVOs4VSpmA",                    // Spider-Man: No Way Home
            "spiderman": "JfVOs4VSpmA",                 // Spider-Man: No Way Home
            "top gun": "giXco2jaZ_4",                   // Top Gun: Maverick
            "maverick": "giXco2jaZ_4",                  // Top Gun: Maverick
            "john wick": "pU8-7BX9uxs",                 // John Wick
            
            // Sci-Fi
            "dune": "8g18jFHCLXk",                      // Dune
            "inception": "YoHD9XEInc0",                 // Inception  
            "interstellar": "zSWdZVtXT7E",              // Interstellar
            "matrix": "9ix7TUGVYIo",                    // The Matrix Resurrections
            
            // Fantasy/Superhero
            "thor": "tgB1wUcmbbw",                      // Thor: Love and Thunder
            "black panther": "xjDjIWPwcPU",             // Black Panther
            "eternals": "x_me3xsvDgk",                  // Eternals
            "doctor strange": "aWzlQ2N6qqg",            // Doctor Strange
            "shang-chi": "8YjFbMbfXaQ",                 // Shang-Chi
            "harry potter": "VyHV0BRtdxo",              // Harry Potter
            "lord of the rings": "x8UAUAuKNcU",         // Lord of the Rings
            "wonder woman": "1Q8fG0TtVAY",              // Wonder Woman
            
            // Drama/Thriller
            "joker": "zAGVQLHvwOY",                     // Joker
            "parasite": "5xH0HfJHsaY",                  // Parasite
            "james bond": "BIhNsAtPbPI",                // No Time to Die
            "bond": "BIhNsAtPbPI",                      // No Time to Die
            "007": "BIhNsAtPbPI",                       // No Time to Die
            "dunkirk": "F-eMt3SrfFU",                   // Dunkirk
            "tenet": "LdOM0x0XDMo",                     // Tenet
            
            // Animation
            "toy story": "wmiIUN-7qhE",                 // Toy Story 4
            "frozen": "Zi4LMpSDccc",                    // Frozen 2
            "inside out": "yRUAzGQ3nSY",                // Inside Out
            "encanto": "CaimKeDcudo",                   // Encanto
            "soul": "xOsLIiBStEs",                      // Soul
            "luca": "mYfJxlgR2jw",                      // Luca

            // Fallback for testing
            "test": "dQw4w9WgXcQ"                       // Test trailer
          };
          
          // Find matching trailer by iterating through keys
          let videoId = null;
          Object.keys(trailerDatabase).forEach(key => {
            if (cleanTitle.includes(key)) {
              videoId = trailerDatabase[key];
            }
          });
          
          // If no exact match found, provide a popular trailer as fallback
          if (!videoId) {
            // Extract the first word as a possible movie name
            const firstWord = cleanTitle.split(' ')[0];
            if (trailerDatabase[firstWord]) {
              videoId = trailerDatabase[firstWord];
            } else {
              // Use a default trailer if nothing matches
              videoId = "JfVOs4VSpmA"; // Spider-Man: No Way Home as default
            }
          }
          
          // Create iframe with specific video ID
          const iframe = document.createElement("iframe");
          iframe.className = "trailer-frame";
          iframe.setAttribute("allowfullscreen", "");
          iframe.src = `https://www.youtube.com/embed/${videoId}?rel=0&autoplay=1`;
          
          // Replace loading indicator with iframe
          trailerContainer.innerHTML = '';
          trailerContainer.appendChild(iframe);
        } catch (error) {
          console.error("Error loading trailer:", error);
          // Show error message in trailer container
          trailerContainer.innerHTML = `
            <div class="trailer-error">
              <div class="trailer-info">
                <p>Unable to load trailer</p>
                <p>Please try again later</p>
              </div>
              <a href="https://www.youtube.com/results?search_query=${encodeURIComponent(searchQuery)}" target="_blank">
                Search on YouTube
              </a>
            </div>
          `;
        }
      }
      
      // Function to generate detailed cast information
      function generateCastDetails(actorsString) {
        try {
          // Clear previous cast details
          castDetailsList.innerHTML = '';
          
          if (!actorsString || actorsString === 'N/A') {
            const noData = document.createElement('div');
            noData.textContent = 'No cast information available';
            castDetailsList.appendChild(noData);
            return;
          }
          
          // Split actor string by commas
          const actors = actorsString.split(',').map(actor => actor.trim());
          
          // Create a card for each actor (max 5 for performance)
          actors.slice(0, 5).forEach((actor, index) => {
            try {
              // Create actor card
              const castItem = document.createElement('div');
              castItem.className = 'cast-item';
              castItem.style.setProperty('--i', index + 1);
              
              // Create random character name based on actor name
              let characterName = '';
              if (actor.includes(' as ')) {
                const parts = actor.split(' as ');
                actor = parts[0];
                characterName = parts[1];
              } else {
                characterName = `Character ${index + 1}`;
              }
              
              // Generate a consistent photo based on actor's name (for demo purposes)
              // In a real app, you would use an API like TMDB to get actual photos
              const photoSeed = actor.length % 15 + 1; // Get a number between 1-15 based on name length
              const actorPhotoUrl = `https://randomuser.me/api/portraits/${actor.toLowerCase().includes('a') ? 'women' : 'men'}/${photoSeed}.jpg`;
              
              // We'll set a loading state initially
              castItem.innerHTML = `
                <img src="${actorPhotoUrl}" alt="${actor}" class="cast-photo" onerror="this.onerror=null;this.innerHTML='👤';this.src='https://via.placeholder.com/160x180/333333/CCCCCC?text=${actor.charAt(0)}'" />
                <div class="cast-info">
                  <div class="cast-name">${actor}</div>
                  <div class="cast-character">as ${characterName}</div>
                  <div class="social-links">
                    <div style="color: #aaa; font-size: 12px;">Loading social profiles...</div>
                  </div>
                </div>
              `;
              
              // Add to DOM first so we can update it asynchronously
              castDetailsList.appendChild(castItem);
              
              // Fetch social media profiles asynchronously
              fetchSocialMediaProfiles(actor, 'actor').then(profileData => {
                try {
                  // Create direct profile URLs using the fetched handles
                  const twitterProfileUrl = `https://x.com/${profileData.social.twitter}`;
                  const instagramProfileUrl = `https://www.instagram.com/${profileData.social.instagram}/`;
                  const facebookProfileUrl = `https://www.facebook.com/${profileData.social.facebook}`;
                  
                  // Get the social links container
                  const socialLinksContainer = castItem.querySelector('.social-links');
                  
                  // Update with real social links
                  socialLinksContainer.innerHTML = `
                    <a href="${twitterProfileUrl}" target="_blank" class="social-link icon-twitter" title="${actor} on X${profileData.verified ? ' (Verified)' : ''}"></a>
                    <a href="${instagramProfileUrl}" target="_blank" class="social-link icon-instagram" title="${actor} on Instagram${profileData.verified ? ' (Verified)' : ''}"></a>
                    <a href="${facebookProfileUrl}" target="_blank" class="social-link icon-facebook" title="${actor} on Facebook${profileData.verified ? ' (Verified)' : ''}"></a>
                  `;
                } catch (error) {
                  console.error("Error updating social links for actor:", actor, error);
                  // Keep the loading message if there's an error
                }
              }).catch(error => {
                console.error("Error fetching social profiles for actor:", actor, error);
                // Keep the loading message if there's an error
              });
            } catch (error) {
              console.error("Error creating cast item for actor:", actor, error);
            }
          });
        } catch (error) {
          console.error("Error generating cast details:", error);
          castDetailsList.innerHTML = '<div>Error loading cast information</div>';
        }
      }
      
      // Function to generate detailed director information
      function generateDirectorDetails(directorString) {
        try {
          // Clear previous director details
          directorDetailsList.innerHTML = '';
          
          if (!directorString || directorString === 'N/A') {
            const noData = document.createElement('div');
            noData.textContent = 'No director information available';
            directorDetailsList.appendChild(noData);
            return;
          }
          
          // Split director string by commas (some movies have multiple directors)
          const directors = directorString.split(',').map(director => director.trim());
          
          // Create a card for each director
          directors.forEach((director, index) => {
            try {
              // Create director card
              const directorItem = document.createElement('div');
              directorItem.className = 'director-item';
              directorItem.style.setProperty('--i', index + 1);
              
              // Generate a consistent photo based on director's name (for demo purposes)
              const directorPhotoSeed = director.length % 15 + 1; 
              const directorPhotoUrl = `https://randomuser.me/api/portraits/${director.toLowerCase().includes('e') ? 'men' : 'women'}/${directorPhotoSeed}.jpg`;
              
              // We'll set a loading state initially
              directorItem.innerHTML = `
                <img src="${directorPhotoUrl}" alt="${director}" class="director-photo" onerror="this.onerror=null;this.innerHTML='🎬';this.src='https://via.placeholder.com/160x180/333333/CCCCCC?text=${director.charAt(0)}'" />
                <div class="director-info">
                  <div class="director-name">${director}</div>
                  <div class="director-known-for">Known for ${Math.floor(Math.random() * 15) + 5} films</div>
                  <div class="social-links">
                    <div style="color: #aaa; font-size: 12px;">Loading social profiles...</div>
                  </div>
                </div>
              `;
              
              // Add to DOM first so we can update it asynchronously
              directorDetailsList.appendChild(directorItem);
              
              // Fetch social media profiles asynchronously
              fetchSocialMediaProfiles(director, 'director').then(profileData => {
                try {
                  // Create direct profile URLs using the fetched handles
                  const directorTwitterUrl = `https://x.com/${profileData.social.twitter}`;
                  const directorInstagramUrl = `https://www.instagram.com/${profileData.social.instagram}/`;
                  const directorFacebookUrl = `https://www.facebook.com/${profileData.social.facebook}`;
                  
                  // Get the social links container
                  const socialLinksContainer = directorItem.querySelector('.social-links');
                  
                  // Update with real social links
                  socialLinksContainer.innerHTML = `
                    <a href="${directorTwitterUrl}" target="_blank" class="social-link icon-twitter" title="${director} on X${profileData.verified ? ' (Verified)' : ''}"></a>
                    <a href="${directorInstagramUrl}" target="_blank" class="social-link icon-instagram" title="${director} on Instagram${profileData.verified ? ' (Verified)' : ''}"></a>
                    <a href="${directorFacebookUrl}" target="_blank" class="social-link icon-facebook" title="${director} on Facebook${profileData.verified ? ' (Verified)' : ''}"></a>
                  `;
                } catch (error) {
                  console.error("Error updating social links for director:", director, error);
                  // Keep the loading message if there's an error
                }
              }).catch(error => {
                console.error("Error fetching social profiles for director:", director, error);
                // Keep the loading message if there's an error
              });
            } catch (error) {
              console.error("Error creating director item for director:", director, error);
            }
          });
        } catch (error) {
          console.error("Error generating director details:", error);
          directorDetailsList.innerHTML = '<div>Error loading director information</div>';
        }
      }
      
      // Back button functionality
      backButton.addEventListener("click", () => {
        console.log("Back button clicked!");
        detailsContainer.style.display = "none";
        movieContainer.style.display = "flex"; // Show the movie results again
        // Optionally clear the trailer when going back
        trailerContainer.innerHTML = '';
      });
      
      // Event listeners for search
      searchBtn.addEventListener("click", searchMovies);
      searchInput.addEventListener("keyup", event => {
        if (event.key === "Enter") {
          searchMovies();
        }
      });
      
      // Initial focus
      searchInput.focus();
    </script>
  </body>
</html>